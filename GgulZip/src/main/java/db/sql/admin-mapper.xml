<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<entry key="listCount"> <!-- Member count -->
		SELECT COUNT(*) COUNT
		  FROM MEMBER
	</entry>
	<entry key="selectUserList"> <!-- 관리자 Member 전체 조회 -->
   	    SELECT *
		FROM (SELECT ROWNUM RNUM,A.*
        FROM (SELECT MEMBER_NO
		      ,MEMBER_ID
		      ,MEMBER_NAME
		      ,MEMBER_NICKNAME
		      ,MEMBER_EMAIL
		      ,MEMBER_ENROLL_DATE
		      ,MEMBER_GRADE
		      ,STATUS
   		  FROM MEMBER) A
        )
   		WHERE RNUM BETWEEN ? AND ?
	</entry>
	<entry key="updateMember"> <!-- 관리자 Member status, Status 수정 -->
		UPDATE MEMBER 
		   SET MEMBER_GRADE = ?
		      ,STATUS = ?
	     WHERE MEMBER_NO = ?
	</entry>
	<entry key="selectUserList2"> <!-- update 후 Member 조회 조회 -->
		SELECT MEMBER_NO
		      ,MEMBER_ID
		      ,MEMBER_NAME
		      ,MEMBER_NICKNAME
		      ,MEMBER_EMAIL
		      ,MEMBER_ENROLL_DATE
		      ,MEMBER_GRADE
		      ,STATUS
		  FROM MEMBER
		 WHERE MEMBER_NO = ?
	</entry>
	<entry key="findUser"> <!-- 유저정보페이지 검색 -->
		SELECT MEMBER_NO
	      ,MEMBER_ID
	      ,MEMBER_NAME
	      ,MEMBER_NICKNAME
	      ,MEMBER_EMAIL
	      ,MEMBER_ENROLL_DATE
	      ,MEMBER_GRADE
	      ,STATUS
		   FROM MEMBER
		   WHERE 
	</entry>	
	<entry key="selectDisable">  <!-- 정지회원 조회 -->
	SELECT MEMBER_ID
		  ,MEMBER_NAME
		  ,MEMBER_EMAIL
		  ,MEMBER_ENROLL_DATE
		  ,DISABLE_REASON
	 FROM MEMBER M,DISABLE D
	WHERE M.MEMBER_NO = D.MEMBER_NO (+) AND STATUS = 'N'
	</entry>
	<entry key="insertDisable"> <!-- 정지회원 update (insert아님) -->
	UPDATE DISABLE D
	   SET D.DISABLE_REASON = ?
	 WHERE D.MEMBER_NO IN 
	(SELECT M.MEMBER_NO 
	   FROM MEMBER M
	  WHERE M.MEMBER_ID = ?)
	</entry>
	<entry key="selectDisable2"> <!-- update후에 조회 -->
		SELECT MEMBER_ID
		      ,MEMBER_NAME
		      ,MEMBER_EMAIL
		      ,MEMBER_ENROLL_DATE
		      ,DISABLE_REASON
		FROM MEMBER M
			,DISABLE D
	   WHERE M.MEMBER_NO = D.MEMBER_NO (+) 
		 AND STATUS = 'N' 
		 AND M.MEMBER_ID = ?
	</entry>
	<entry key="insertDisable2">
		INSERT INTO DISABLE (MEMBER_NO, DISABLE_REASON)
		SELECT DISTINCT M.MEMBER_NO, '사유를 입력하세요'
		FROM MEMBER M
		LEFT JOIN DISABLE D ON M.MEMBER_NO = D.MEMBER_NO
		WHERE M.STATUS = 'N'
		AND D.MEMBER_NO IS NULL
	</entry>	
</properties>